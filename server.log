
> proytecto@1.0.1 start
> node server.js

âš ï¸ MySQL no disponible, usando SQLite como fallback
âœ… Base de datos SQLite creada en: /workspaces/PERFIL-FRONTEND/rpm_market.db
âš ï¸ Error en statement SQL: UNIQUE constraint failed: categoria.NombreCategoria
âœ… Esquema SQLite inicializado desde rpm_market.sql
ğŸš€ Servidor escuchando en: http://localhost:3000/General/index.html
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 50
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 6
âœ… Encontradas 4 publicaciones
ğŸš€ === INICIO REGISTRO === ğŸš€
ğŸ“¦ Datos recibidos: [Object: null prototype] {
  TipoUsuario: 'Natural',
  Usuario: '987654321',
  Nombre: 'mauricio',
  Apellido: 'sanchez',
  Correo: 'mauriciosanchez@gmail.com',
  Direccion: 'cra 123 # 125 - 52',
  Telefono: '3134681250',
  Barrio: 'Santa rita'
}
ğŸ“¸ Archivos recibidos: [Object: null prototype] {
  FotoPerfil: [
    {
      fieldname: 'FotoPerfil',
      originalname: 'base de datos.png',
      encoding: '7bit',
      mimetype: 'image/png',
      destination: '/workspaces/PERFIL-FRONTEND/public/imagen/temp',
      filename: '1765742595014-386856938.png',
      path: '/workspaces/PERFIL-FRONTEND/public/imagen/temp/1765742595014-386856938.png',
      size: 170745
    }
  ]
}
âœ… Credenciales creadas para: 987654321
ğŸ”‘ Token temporal generado: UPBMFsFe
ğŸ“ Insertando perfil natural...
âœ… Perfil natural creado
âœ… Registro completo: 987654321
ğŸ” Actualizando contraseÃ±a para usuario: 987654321
âœ… ContraseÃ±a actualizada para usuario: 987654321
ğŸ§  Usuario encontrado: {
  IdCredencial: 7,
  Usuario: 987654321,
  NombreUsuario: '987654321',
  Contrasena: '$2b$10$kRVT4N3BLkCB2WMgmo3WoeSj0ki/Py9sh4wj2czDtvbrvTGgznGk2',
  TipoUsuario: 'Natural'
}
âœ… Usuario autenticado: { id: 987654321, nombre: '987654321', tipo: 'Natural' }
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 50
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 6
âœ… Encontradas 4 publicaciones
ğŸ“– Obteniendo perfil natural para usuario: 987654321
âœ… Perfil encontrado para: mauricio sanchez
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 50
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 6
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 50
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 6
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/marketplace-gruas
âœ… Encontradas 4 grÃºas
ğŸ“¥ GET /api/marketplace-gruas
âœ… Encontradas 4 grÃºas
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 6
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 50
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/marketplace-gruas
âœ… Encontradas 4 grÃºas
ğŸ“¥ GET /api/publicaciones_publicas - categoria: Accesorios limite: 6
âœ… Encontradas 2 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: Accesorios limite: 6
âœ… Encontradas 2 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: Repuestos limite: 6
âœ… Encontradas 0 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: Servicio mecanico limite: 6
âœ… Encontradas 2 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: Accesorios limite: 6
âœ… Encontradas 2 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 6
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 6
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 50
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 50
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 6
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 50
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 6
âœ… Encontradas 4 publicaciones
ğŸ“– Obteniendo perfil natural para usuario: 987654321
âœ… Perfil encontrado para: mauricio sanchez
ğŸ“ Actualizando perfil natural para usuario: 987654321
âœ… Datos de usuario actualizados
âœ… Perfil natural actualizado
ğŸ“– Obteniendo perfil natural para usuario: 987654321
âœ… Perfil encontrado para: mauricio sanchez
ğŸ“Š Consultando historial para usuario: 987654321
âœ… 0 registros encontrados
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 50
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 6
âœ… Encontradas 4 publicaciones
ğŸ“© Solicitud de centro de ayuda recibida: {
  perfil: 987654321,
  tipoSolicitud: 'Sugerencia',
  rol: 'Usuario Natural',
  asunto: 'MALA PLATAFORMA'
}
âœ… Solicitud de ayuda registrada exitosamente
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 50
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 6
âœ… Encontradas 4 publicaciones
ğŸ“¦ Finalizando compra...
ğŸ‘¤ Usuario: 987654321, ğŸ’³ MÃ©todo: contraentrega
ğŸ›ï¸ Compra directa: NO
ğŸ›’ Procesando compra desde carrito...
ğŸ“‹ 1 productos en el carrito
ğŸ’° Total de la compra: $156000
âœ… Factura creada con ID: 13
ğŸ—‘ï¸ Carrito vaciado
âœ… Compra registrada con mÃ©todo: contraentrega
ğŸ“Š Consultando historial para usuario: 987654321
âœ… 1 registros encontrados
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 6
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 50
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 6
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 50
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 50
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 6
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 6
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 50
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/marketplace-gruas
âœ… Encontradas 4 grÃºas
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 6
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 50
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 50
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 6
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/marketplace-gruas
âœ… Encontradas 4 grÃºas
ğŸ“¥ GET /api/marketplace-gruas
âœ… Encontradas 4 grÃºas
ğŸ“… Agendando servicio de grÃºa: {
  usuarioId: 987654321,
  idPublicacionGrua: '4',
  fecha: '2025-12-31',
  hora: '15:24',
  direccion: 'Cra 152 # 139-35',
  destino: 'portal 80',
  detalle: 'me bare '
}
âœ… Servicio agendado correctamente
ğŸ“¥ GET /api/marketplace-gruas
âœ… Encontradas 4 grÃºas
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 6
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 50
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 50
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 6
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 50
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 6
âœ… Encontradas 4 publicaciones
ğŸ“Š Consultando historial para usuario: 987654321
âœ… 2 registros encontrados
ğŸ“¦ Excel generado con 2 registros (productos + grÃºas)
ğŸ“Š Consultando historial para usuario: 987654321
âœ… 1 registros encontrados
ğŸ“Š Consultando historial para usuario: 987654321
âœ… 1 registros encontrados
ğŸ“Š Consultando historial para usuario: 987654321
âœ… 0 registros encontrados
ğŸ“Š Consultando historial para usuario: 987654321
âœ… 0 registros encontrados
ğŸ“Š Consultando historial para usuario: 987654321
âœ… 2 registros encontrados
ğŸ“Š Consultando historial para usuario: 987654321
âœ… 2 registros encontrados
ğŸ“Š Consultando historial para usuario: 987654321
âœ… 2 registros encontrados
ğŸ“Š Consultando historial para usuario: 987654321
âœ… 1 registros encontrados
ğŸ“Š Consultando historial para usuario: 987654321
âœ… 1 registros encontrados
ğŸ“Š Consultando historial para usuario: 987654321
âœ… 2 registros encontrados
ğŸ“Š Consultando historial para usuario: 987654321
âœ… 1 registros encontrados
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 50
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 6
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/marketplace-gruas
âœ… Encontradas 4 grÃºas
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 50
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 6
âœ… Encontradas 4 publicaciones
ğŸ“Š Consultando historial para usuario: 987654321
âœ… 2 registros encontrados
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 50
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 6
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 6
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 50
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/marketplace-gruas
âœ… Encontradas 4 grÃºas
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 6
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 50
âœ… Encontradas 4 publicaciones
ğŸ“Š Consultando historial para usuario: 987654321
âœ… 2 registros encontrados
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 50
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 6
âœ… Encontradas 4 publicaciones
ğŸ“Š Consultando historial para usuario: 987654321
âœ… 2 registros encontrados
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 6
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 50
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 6
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 50
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 6
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 50
âœ… Encontradas 4 publicaciones
ğŸ“Š Consultando historial para usuario: 987654321
âœ… 2 registros encontrados
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 6
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 50
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 6
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 50
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 6
âœ… Encontradas 4 publicaciones
ğŸ“¥ GET /api/publicaciones_publicas - categoria: undefined limite: 50
âœ… Encontradas 4 publicaciones
